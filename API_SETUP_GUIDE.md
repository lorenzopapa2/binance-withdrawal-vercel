# Binance API 配置指南

## API连接失败的常见原因和解决方法

### 1. IP白名单问题

**问题**: 币安API需要将服务器IP地址添加到白名单中。

**解决方法**:
1. 登录币安账户
2. 进入 API管理 页面
3. 编辑您的API
4. 在 "IP存取限制" 部分，选择 "限制只信任的IP"
5. 添加以下IP地址（Vercel的IP会动态变化，建议使用以下方法之一）：
   - **选项1（推荐）**: 暂时选择 "不限制（安全性较低）" 进行测试
   - **选项2**: 添加Vercel的IP范围（需要查询Vercel文档获取最新IP范围）

### 2. API权限不足

**问题**: API权限设置不正确。

**解决方法**:
1. 确保勾选以下权限：
   - ✅ 启用读取
   - ✅ 允许提现
   - ✅ 允许通用划转（如果需要）

### 3. 测试网和主网混淆

**问题**: 使用测试网API密钥连接主网，或反之。

**解决方法**:
- **测试网API**: 在 https://testnet.binance.vision/ 创建
- **主网API**: 在 https://www.binance.com/ 创建
- 确保在应用中正确选择"测试网络"选项

### 4. API Key/Secret 错误

**问题**: 复制API Key或Secret时包含了空格或遗漏字符。

**解决方法**:
- 重新复制API Key和Secret
- 确保没有多余的空格
- Secret只在创建时显示一次，如果忘记需要重新创建API

### 5. 账户限制

**问题**: 账户可能有安全限制或需要完成身份验证。

**解决方法**:
- 确保账户已完成身份验证
- 检查是否有任何安全限制
- 确保账户有足够的权限进行API操作

## 建议的测试步骤

1. **先使用测试网**:
   - 在 https://testnet.binance.vision/ 创建测试API
   - 在应用中勾选"启用测试网络"
   - 测试成功后再切换到主网

2. **逐步测试功能**:
   - 先测试API连接
   - 再测试读取账户信息
   - 最后测试提币功能

3. **查看错误日志**:
   - 如果连接失败，查看具体错误信息
   - 根据错误代码判断问题原因

## 安全建议

1. **生产环境**:
   - 一定要设置IP白名单
   - 只授予必要的权限
   - 定期更换API密钥

2. **保护API密钥**:
   - 不要在代码中硬编码
   - 使用环境变量存储
   - 不要分享或公开API密钥

## 需要帮助？

如果仍然无法连接，请检查：
- 币安账户是否正常
- API是否被禁用
- 是否有地区限制

更多信息请参考[币安API文档](https://binance-docs.github.io/apidocs/)